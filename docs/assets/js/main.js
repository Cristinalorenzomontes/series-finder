"use strict";console.log(">> Ready :) or not");const btnResetAll=document.querySelector(".js-reset"),buttonSearch=document.querySelector(".js-search-button"),serieName=document.querySelector(".js-search-input");let series=[],favourites=[];const getDataFromApi=()=>{fetch("http://api.tvmaze.com/search/shows?q=:"+serieName.value).then(e=>e.json()).then(e=>{series=[];for(let t=0;t<e.length;t++)series.push(e[t].show);paintSeries()})};buttonSearch.addEventListener("click",getDataFromApi);const paintSeries=()=>{let e="";for(let t=0;t<series.length;t+=1)e+=`<li id = "${series[t].id}" data-index="${t}"\n    data-id="${series[t].id}" class="js-seriesSelected">`,e+="<article>",null!==series[t].image?e+=`<img src="${series[t].image.medium}" \n          class="serie-img" alt="Foto de la serie ${series[t].name}"/>`:e+=`<img src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV" \n          class="serie-img" alt="Foto de la serie ${series[t].name}"/>`,e+=`<h2> ${series[t].name}</h2>`,e+="</article>",e+="</li>";document.querySelector(".js-elements").innerHTML=e,listenSeriesClick()},paintFavourites=()=>{let e="";for(let t=0;t<favourites.length;t+=1)e+=`<li id = "${favourites[t].id}" data-index="${t} class="id"\n    data-id="${favourites[t].id}" class="favourite-background">`,e+='<article class="article">',null!==favourites[t].image?e+=`<img src="${favourites[t].image.medium}" \n          class="serie-img" alt="Foto de la serie ${favourites[t].name}"/>`:e+=`<img src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV" \n          class="serie-img" alt="Foto de la serie ${favourites[t].name}"/>`,e+=`<h2> ${favourites[t].name}</h2>`,e+="</article>",e+="</li>";document.querySelector(".js-favourites").innerHTML=e},handleSeriesClick=e=>{const t=parseInt(e.currentTarget.id),s=series.find(e=>e.id===t);favourites.includes(s)?alert("Already in your favourites!"):(alert("Added to your favourites!"),favourites.push(s),updateLocalStorage(),console.log(favourites),event.currentTarget.classList.add("favourite-background-click"),paintFavourites(),btnResetAll.classList.remove("hide"))},listenSeriesClick=()=>{const e=document.querySelectorAll(".js-seriesSelected");for(const t of e)t.addEventListener("click",handleSeriesClick)},updateLocalStorage=()=>{localStorage.setItem("favourites",JSON.stringify(favourites))},getFromLocalStorage=()=>{const e=JSON.parse(localStorage.getItem("favourites"));null!==e&&(favourites=e)},resetFavourites=()=>{favourites=[],updateLocalStorage(),paintFavourites()};btnResetAll.addEventListener("click",resetFavourites),getFromLocalStorage(),paintSeries(),paintFavourites();